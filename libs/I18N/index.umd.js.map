{"version":3,"file":"index.umd.js","sources":["../../node_modules/i18next/dist/es/logger.js","../../node_modules/i18next/dist/es/EventEmitter.js","../../node_modules/i18next/dist/es/utils.js","../../node_modules/i18next/dist/es/ResourceStore.js","../../node_modules/i18next/dist/es/Translator.js","../../node_modules/i18next/dist/es/LanguageUtils.js","../../node_modules/i18next/dist/es/PluralResolver.js","../../node_modules/i18next/dist/es/Interpolator.js","../../node_modules/i18next/dist/es/BackendConnector.js","../../node_modules/i18next/dist/es/CacheConnector.js","../../node_modules/i18next/dist/es/defaults.js","../../node_modules/i18next/dist/es/i18next.js","../../node_modules/i18next/dist/es/postProcessor.js","../../node_modules/i18next/dist/es/index.js","../../src/I18N/index.js"],"sourcesContent":["var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nvar consoleLogger = {\n  type: 'logger',\n\n  log: function log(args) {\n    this.output('log', args);\n  },\n  warn: function warn(args) {\n    this.output('warn', args);\n  },\n  error: function error(args) {\n    this.output('error', args);\n  },\n  output: function output(type, args) {\n    var _console;\n\n    /* eslint no-console: 0 */\n    if (console && console[type]) (_console = console)[type].apply(_console, _toConsumableArray(args));\n  }\n};\n\nvar Logger = function () {\n  function Logger(concreteLogger) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _classCallCheck(this, Logger);\n\n    this.init(concreteLogger, options);\n  }\n\n  Logger.prototype.init = function init(concreteLogger) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    this.prefix = options.prefix || 'i18next:';\n    this.logger = concreteLogger || consoleLogger;\n    this.options = options;\n    this.debug = options.debug;\n  };\n\n  Logger.prototype.setDebug = function setDebug(bool) {\n    this.debug = bool;\n  };\n\n  Logger.prototype.log = function log() {\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return this.forward(args, 'log', '', true);\n  };\n\n  Logger.prototype.warn = function warn() {\n    for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n\n    return this.forward(args, 'warn', '', true);\n  };\n\n  Logger.prototype.error = function error() {\n    for (var _len3 = arguments.length, args = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n      args[_key3] = arguments[_key3];\n    }\n\n    return this.forward(args, 'error', '');\n  };\n\n  Logger.prototype.deprecate = function deprecate() {\n    for (var _len4 = arguments.length, args = Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n      args[_key4] = arguments[_key4];\n    }\n\n    return this.forward(args, 'warn', 'WARNING DEPRECATED: ', true);\n  };\n\n  Logger.prototype.forward = function forward(args, lvl, prefix, debugOnly) {\n    if (debugOnly && !this.debug) return null;\n    if (typeof args[0] === 'string') args[0] = '' + prefix + this.prefix + ' ' + args[0];\n    return this.logger[lvl](args);\n  };\n\n  Logger.prototype.create = function create(moduleName) {\n    return new Logger(this.logger, _extends({ prefix: this.prefix + ':' + moduleName + ':' }, this.options));\n  };\n\n  return Logger;\n}();\n\nexport default new Logger();","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar EventEmitter = function () {\n  function EventEmitter() {\n    _classCallCheck(this, EventEmitter);\n\n    this.observers = {};\n  }\n\n  EventEmitter.prototype.on = function on(events, listener) {\n    var _this = this;\n\n    events.split(' ').forEach(function (event) {\n      _this.observers[event] = _this.observers[event] || [];\n      _this.observers[event].push(listener);\n    });\n  };\n\n  EventEmitter.prototype.off = function off(event, listener) {\n    var _this2 = this;\n\n    if (!this.observers[event]) {\n      return;\n    }\n\n    this.observers[event].forEach(function () {\n      if (!listener) {\n        delete _this2.observers[event];\n      } else {\n        var index = _this2.observers[event].indexOf(listener);\n        if (index > -1) {\n          _this2.observers[event].splice(index, 1);\n        }\n      }\n    });\n  };\n\n  EventEmitter.prototype.emit = function emit(event) {\n    for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n\n    if (this.observers[event]) {\n      var cloned = [].concat(this.observers[event]);\n      cloned.forEach(function (observer) {\n        observer.apply(undefined, args);\n      });\n    }\n\n    if (this.observers['*']) {\n      var _cloned = [].concat(this.observers['*']);\n      _cloned.forEach(function (observer) {\n        var _ref;\n\n        observer.apply(observer, (_ref = [event]).concat.apply(_ref, args));\n      });\n    }\n  };\n\n  return EventEmitter;\n}();\n\nexport default EventEmitter;","export function makeString(object) {\n  if (object == null) return '';\n  /* eslint prefer-template: 0 */\n  return '' + object;\n}\n\nexport function copy(a, s, t) {\n  a.forEach(function (m) {\n    if (s[m]) t[m] = s[m];\n  });\n}\n\nfunction getLastOfPath(object, path, Empty) {\n  function cleanKey(key) {\n    return key && key.indexOf('###') > -1 ? key.replace(/###/g, '.') : key;\n  }\n\n  function canNotTraverseDeeper() {\n    return !object || typeof object === 'string';\n  }\n\n  var stack = typeof path !== 'string' ? [].concat(path) : path.split('.');\n  while (stack.length > 1) {\n    if (canNotTraverseDeeper()) return {};\n\n    var key = cleanKey(stack.shift());\n    if (!object[key] && Empty) object[key] = new Empty();\n    object = object[key];\n  }\n\n  if (canNotTraverseDeeper()) return {};\n  return {\n    obj: object,\n    k: cleanKey(stack.shift())\n  };\n}\n\nexport function setPath(object, path, newValue) {\n  var _getLastOfPath = getLastOfPath(object, path, Object),\n      obj = _getLastOfPath.obj,\n      k = _getLastOfPath.k;\n\n  obj[k] = newValue;\n}\n\nexport function pushPath(object, path, newValue, concat) {\n  var _getLastOfPath2 = getLastOfPath(object, path, Object),\n      obj = _getLastOfPath2.obj,\n      k = _getLastOfPath2.k;\n\n  obj[k] = obj[k] || [];\n  if (concat) obj[k] = obj[k].concat(newValue);\n  if (!concat) obj[k].push(newValue);\n}\n\nexport function getPath(object, path) {\n  var _getLastOfPath3 = getLastOfPath(object, path),\n      obj = _getLastOfPath3.obj,\n      k = _getLastOfPath3.k;\n\n  if (!obj) return undefined;\n  return obj[k];\n}\n\nexport function deepExtend(target, source, overwrite) {\n  /* eslint no-restricted-syntax: 0 */\n  for (var prop in source) {\n    if (prop in target) {\n      // If we reached a leaf string in target or source then replace with source or skip depending on the 'overwrite' switch\n      if (typeof target[prop] === 'string' || target[prop] instanceof String || typeof source[prop] === 'string' || source[prop] instanceof String) {\n        if (overwrite) target[prop] = source[prop];\n      } else {\n        deepExtend(target[prop], source[prop], overwrite);\n      }\n    } else {\n      target[prop] = source[prop];\n    }\n  }\n  return target;\n}\n\nexport function regexEscape(str) {\n  /* eslint no-useless-escape: 0 */\n  return str.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, '\\\\$&');\n}\n\n/* eslint-disable */\nvar _entityMap = {\n  \"&\": \"&amp;\",\n  \"<\": \"&lt;\",\n  \">\": \"&gt;\",\n  '\"': '&quot;',\n  \"'\": '&#39;',\n  \"/\": '&#x2F;'\n};\n/* eslint-enable */\n\nexport function escape(data) {\n  if (typeof data === 'string') {\n    return data.replace(/[&<>\"'\\/]/g, function (s) {\n      return _entityMap[s];\n    });\n  }\n\n  return data;\n}","var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction _defaults(obj, defaults) { var keys = Object.getOwnPropertyNames(defaults); for (var i = 0; i < keys.length; i++) { var key = keys[i]; var value = Object.getOwnPropertyDescriptor(defaults, key); if (value && value.configurable && obj[key] === undefined) { Object.defineProperty(obj, key, value); } } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : _defaults(subClass, superClass); }\n\nimport EventEmitter from './EventEmitter';\nimport * as utils from './utils';\n\nvar ResourceStore = function (_EventEmitter) {\n  _inherits(ResourceStore, _EventEmitter);\n\n  function ResourceStore(data) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : { ns: ['translation'], defaultNS: 'translation' };\n\n    _classCallCheck(this, ResourceStore);\n\n    var _this = _possibleConstructorReturn(this, _EventEmitter.call(this));\n\n    _this.data = data || {};\n    _this.options = options;\n    return _this;\n  }\n\n  ResourceStore.prototype.addNamespaces = function addNamespaces(ns) {\n    if (this.options.ns.indexOf(ns) < 0) {\n      this.options.ns.push(ns);\n    }\n  };\n\n  ResourceStore.prototype.removeNamespaces = function removeNamespaces(ns) {\n    var index = this.options.ns.indexOf(ns);\n    if (index > -1) {\n      this.options.ns.splice(index, 1);\n    }\n  };\n\n  ResourceStore.prototype.getResource = function getResource(lng, ns, key) {\n    var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n\n    var keySeparator = options.keySeparator || this.options.keySeparator;\n    if (keySeparator === undefined) keySeparator = '.';\n\n    var path = [lng, ns];\n    if (key && typeof key !== 'string') path = path.concat(key);\n    if (key && typeof key === 'string') path = path.concat(keySeparator ? key.split(keySeparator) : key);\n\n    if (lng.indexOf('.') > -1) {\n      path = lng.split('.');\n    }\n\n    return utils.getPath(this.data, path);\n  };\n\n  ResourceStore.prototype.addResource = function addResource(lng, ns, key, value) {\n    var options = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : { silent: false };\n\n    var keySeparator = this.options.keySeparator;\n    if (keySeparator === undefined) keySeparator = '.';\n\n    var path = [lng, ns];\n    if (key) path = path.concat(keySeparator ? key.split(keySeparator) : key);\n\n    if (lng.indexOf('.') > -1) {\n      path = lng.split('.');\n      value = ns;\n      ns = path[1];\n    }\n\n    this.addNamespaces(ns);\n\n    utils.setPath(this.data, path, value);\n\n    if (!options.silent) this.emit('added', lng, ns, key, value);\n  };\n\n  ResourceStore.prototype.addResources = function addResources(lng, ns, resources) {\n    /* eslint no-restricted-syntax: 0 */\n    for (var m in resources) {\n      if (typeof resources[m] === 'string') this.addResource(lng, ns, m, resources[m], { silent: true });\n    }\n    this.emit('added', lng, ns, resources);\n  };\n\n  ResourceStore.prototype.addResourceBundle = function addResourceBundle(lng, ns, resources, deep, overwrite) {\n    var path = [lng, ns];\n    if (lng.indexOf('.') > -1) {\n      path = lng.split('.');\n      deep = resources;\n      resources = ns;\n      ns = path[1];\n    }\n\n    this.addNamespaces(ns);\n\n    var pack = utils.getPath(this.data, path) || {};\n\n    if (deep) {\n      utils.deepExtend(pack, resources, overwrite);\n    } else {\n      pack = _extends({}, pack, resources);\n    }\n\n    utils.setPath(this.data, path, pack);\n\n    this.emit('added', lng, ns, resources);\n  };\n\n  ResourceStore.prototype.removeResourceBundle = function removeResourceBundle(lng, ns) {\n    if (this.hasResourceBundle(lng, ns)) {\n      delete this.data[lng][ns];\n    }\n    this.removeNamespaces(ns);\n\n    this.emit('removed', lng, ns);\n  };\n\n  ResourceStore.prototype.hasResourceBundle = function hasResourceBundle(lng, ns) {\n    return this.getResource(lng, ns) !== undefined;\n  };\n\n  ResourceStore.prototype.getResourceBundle = function getResourceBundle(lng, ns) {\n    if (!ns) ns = this.options.defaultNS;\n\n    // COMPATIBILITY: remove extend in v2.1.0\n    if (this.options.compatibilityAPI === 'v1') return _extends({}, this.getResource(lng, ns));\n\n    return this.getResource(lng, ns);\n  };\n\n  ResourceStore.prototype.toJSON = function toJSON() {\n    return this.data;\n  };\n\n  return ResourceStore;\n}(EventEmitter);\n\nexport default ResourceStore;","var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nfunction _defaults(obj, defaults) { var keys = Object.getOwnPropertyNames(defaults); for (var i = 0; i < keys.length; i++) { var key = keys[i]; var value = Object.getOwnPropertyDescriptor(defaults, key); if (value && value.configurable && obj[key] === undefined) { Object.defineProperty(obj, key, value); } } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : _defaults(subClass, superClass); }\n\nimport baseLogger from './logger';\nimport EventEmitter from './EventEmitter';\nimport postProcessor from './postProcessor';\nimport * as utils from './utils';\n\nvar Translator = function (_EventEmitter) {\n  _inherits(Translator, _EventEmitter);\n\n  function Translator(services) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _classCallCheck(this, Translator);\n\n    var _this = _possibleConstructorReturn(this, _EventEmitter.call(this));\n\n    utils.copy(['resourceStore', 'languageUtils', 'pluralResolver', 'interpolator', 'backendConnector'], services, _this);\n\n    _this.options = options;\n    _this.logger = baseLogger.create('translator');\n    return _this;\n  }\n\n  Translator.prototype.changeLanguage = function changeLanguage(lng) {\n    if (lng) this.language = lng;\n  };\n\n  Translator.prototype.exists = function exists(key) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : { interpolation: {} };\n\n    var resolved = this.resolve(key, options);\n    return resolved && resolved.res !== undefined;\n  };\n\n  Translator.prototype.extractFromKey = function extractFromKey(key, options) {\n    var nsSeparator = options.nsSeparator || this.options.nsSeparator;\n    if (nsSeparator === undefined) nsSeparator = ':';\n    var keySeparator = options.keySeparator || this.options.keySeparator || '.';\n\n    var namespaces = options.ns || this.options.defaultNS;\n    if (nsSeparator && key.indexOf(nsSeparator) > -1) {\n      var parts = key.split(nsSeparator);\n      if (nsSeparator !== keySeparator || nsSeparator === keySeparator && this.options.ns.indexOf(parts[0]) > -1) namespaces = parts.shift();\n      key = parts.join(keySeparator);\n    }\n    if (typeof namespaces === 'string') namespaces = [namespaces];\n\n    return {\n      key: key,\n      namespaces: namespaces\n    };\n  };\n\n  Translator.prototype.translate = function translate(keys) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    if ((typeof options === 'undefined' ? 'undefined' : _typeof(options)) !== 'object') {\n      /* eslint prefer-rest-params: 0 */\n      options = this.options.overloadTranslationOptionHandler(arguments);\n    }\n\n    // non valid keys handling\n    if (keys === undefined || keys === null || keys === '') return '';\n    if (typeof keys === 'number') keys = String(keys);\n    if (typeof keys === 'string') keys = [keys];\n\n    // separators\n    var keySeparator = options.keySeparator || this.options.keySeparator || '.';\n\n    // get namespace(s)\n\n    var _extractFromKey = this.extractFromKey(keys[keys.length - 1], options),\n        key = _extractFromKey.key,\n        namespaces = _extractFromKey.namespaces;\n\n    var namespace = namespaces[namespaces.length - 1];\n\n    // return key on CIMode\n    var lng = options.lng || this.language;\n    var appendNamespaceToCIMode = options.appendNamespaceToCIMode || this.options.appendNamespaceToCIMode;\n    if (lng && lng.toLowerCase() === 'cimode') {\n      if (appendNamespaceToCIMode) {\n        var nsSeparator = options.nsSeparator || this.options.nsSeparator;\n        return namespace + nsSeparator + key;\n      }\n\n      return key;\n    }\n\n    // resolve from store\n    var resolved = this.resolve(keys, options);\n    var res = resolved && resolved.res;\n    var usedKey = resolved && resolved.usedKey || key;\n\n    var resType = Object.prototype.toString.apply(res);\n    var noObject = ['[object Number]', '[object Function]', '[object RegExp]'];\n    var joinArrays = options.joinArrays !== undefined ? options.joinArrays : this.options.joinArrays;\n\n    // object\n    if (res && typeof res !== 'string' && noObject.indexOf(resType) < 0 && !(joinArrays && resType === '[object Array]')) {\n      if (!options.returnObjects && !this.options.returnObjects) {\n        this.logger.warn('accessing an object - but returnObjects options is not enabled!');\n        return this.options.returnedObjectHandler ? this.options.returnedObjectHandler(usedKey, res, options) : 'key \\'' + key + ' (' + this.language + ')\\' returned an object instead of string.';\n      }\n\n      // if we got a separator we loop over children - else we just return object as is\n      // as having it set to false means no hierarchy so no lookup for nested values\n      if (options.keySeparator || this.options.keySeparator) {\n        var copy = resType === '[object Array]' ? [] : {}; // apply child translation on a copy\n\n        /* eslint no-restricted-syntax: 0 */\n        for (var m in res) {\n          if (Object.prototype.hasOwnProperty.call(res, m)) {\n            copy[m] = this.translate('' + usedKey + keySeparator + m, _extends({}, options, { joinArrays: false, ns: namespaces }));\n          }\n        }\n        res = copy;\n      }\n    } else if (joinArrays && resType === '[object Array]') {\n      // array special treatment\n      res = res.join(joinArrays);\n      if (res) res = this.extendTranslation(res, keys, options);\n    } else {\n      // string, empty or null\n      var usedDefault = false;\n      var _usedKey = false;\n\n      // fallback value\n      if (!this.isValidLookup(res) && options.defaultValue !== undefined) {\n        usedDefault = true;\n        res = options.defaultValue;\n      }\n      if (!this.isValidLookup(res)) {\n        _usedKey = true;\n        res = key;\n      }\n\n      // save missing\n      if (_usedKey || usedDefault) {\n        this.logger.log('missingKey', lng, namespace, key, res);\n\n        var lngs = [];\n        var fallbackLngs = this.languageUtils.getFallbackCodes(this.options.fallbackLng, options.lng || this.language);\n        if (this.options.saveMissingTo === 'fallback' && fallbackLngs && fallbackLngs[0]) {\n          for (var i = 0; i < fallbackLngs.length; i++) {\n            lngs.push(fallbackLngs[i]);\n          }\n        } else if (this.options.saveMissingTo === 'all') {\n          lngs = this.languageUtils.toResolveHierarchy(options.lng || this.language);\n        } else {\n          lngs.push(options.lng || this.language);\n        }\n\n        if (this.options.saveMissing) {\n          if (this.options.missingKeyHandler) {\n            this.options.missingKeyHandler(lngs, namespace, key, res);\n          } else if (this.backendConnector && this.backendConnector.saveMissing) {\n            this.backendConnector.saveMissing(lngs, namespace, key, res);\n          }\n        }\n\n        this.emit('missingKey', lngs, namespace, key, res);\n      }\n\n      // extend\n      res = this.extendTranslation(res, keys, options);\n\n      // append namespace if still key\n      if (_usedKey && res === key && this.options.appendNamespaceToMissingKey) res = namespace + ':' + key;\n\n      // parseMissingKeyHandler\n      if (_usedKey && this.options.parseMissingKeyHandler) res = this.options.parseMissingKeyHandler(res);\n    }\n\n    // return\n    return res;\n  };\n\n  Translator.prototype.extendTranslation = function extendTranslation(res, key, options) {\n    var _this2 = this;\n\n    if (options.interpolation) this.interpolator.init(_extends({}, options, { interpolation: _extends({}, this.options.interpolation, options.interpolation) }));\n\n    // interpolate\n    var data = options.replace && typeof options.replace !== 'string' ? options.replace : options;\n    if (this.options.interpolation.defaultVariables) data = _extends({}, this.options.interpolation.defaultVariables, data);\n    res = this.interpolator.interpolate(res, data, options.lng || this.language);\n\n    // nesting\n    if (options.nest !== false) res = this.interpolator.nest(res, function () {\n      return _this2.translate.apply(_this2, arguments);\n    }, options);\n\n    if (options.interpolation) this.interpolator.reset();\n\n    // post process\n    var postProcess = options.postProcess || this.options.postProcess;\n    var postProcessorNames = typeof postProcess === 'string' ? [postProcess] : postProcess;\n\n    if (res !== undefined && postProcessorNames && postProcessorNames.length && options.applyPostProcessor !== false) {\n      res = postProcessor.handle(postProcessorNames, res, key, options, this);\n    }\n\n    return res;\n  };\n\n  Translator.prototype.resolve = function resolve(keys) {\n    var _this3 = this;\n\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    var found = void 0;\n    var usedKey = void 0;\n\n    if (typeof keys === 'string') keys = [keys];\n\n    // forEach possible key\n    keys.forEach(function (k) {\n      if (_this3.isValidLookup(found)) return;\n      var extracted = _this3.extractFromKey(k, options);\n      var key = extracted.key;\n      usedKey = key;\n      var namespaces = extracted.namespaces;\n      if (_this3.options.fallbackNS) namespaces = namespaces.concat(_this3.options.fallbackNS);\n\n      var needsPluralHandling = options.count !== undefined && typeof options.count !== 'string';\n      var needsContextHandling = options.context !== undefined && typeof options.context === 'string' && options.context !== '';\n\n      var codes = options.lngs ? options.lngs : _this3.languageUtils.toResolveHierarchy(options.lng || _this3.language);\n\n      namespaces.forEach(function (ns) {\n        if (_this3.isValidLookup(found)) return;\n\n        codes.forEach(function (code) {\n          if (_this3.isValidLookup(found)) return;\n\n          var finalKey = key;\n          var finalKeys = [finalKey];\n\n          var pluralSuffix = void 0;\n          if (needsPluralHandling) pluralSuffix = _this3.pluralResolver.getSuffix(code, options.count);\n\n          // fallback for plural if context not found\n          if (needsPluralHandling && needsContextHandling) finalKeys.push(finalKey + pluralSuffix);\n\n          // get key for context if needed\n          if (needsContextHandling) finalKeys.push(finalKey += '' + _this3.options.contextSeparator + options.context);\n\n          // get key for plural if needed\n          if (needsPluralHandling) finalKeys.push(finalKey += pluralSuffix);\n\n          // iterate over finalKeys starting with most specific pluralkey (-> contextkey only) -> singularkey only\n          var possibleKey = void 0;\n          /* eslint no-cond-assign: 0 */\n          while (possibleKey = finalKeys.pop()) {\n            if (!_this3.isValidLookup(found)) {\n              found = _this3.getResource(code, ns, possibleKey, options);\n            }\n          }\n        });\n      });\n    });\n\n    return { res: found, usedKey: usedKey };\n  };\n\n  Translator.prototype.isValidLookup = function isValidLookup(res) {\n    return res !== undefined && !(!this.options.returnNull && res === null) && !(!this.options.returnEmptyString && res === '');\n  };\n\n  Translator.prototype.getResource = function getResource(code, ns, key) {\n    var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n\n    return this.resourceStore.getResource(code, ns, key, options);\n  };\n\n  return Translator;\n}(EventEmitter);\n\nexport default Translator;","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nimport baseLogger from './logger';\n\nfunction capitalize(string) {\n  return string.charAt(0).toUpperCase() + string.slice(1);\n}\n\nvar LanguageUtil = function () {\n  function LanguageUtil(options) {\n    _classCallCheck(this, LanguageUtil);\n\n    this.options = options;\n\n    this.whitelist = this.options.whitelist || false;\n    this.logger = baseLogger.create('languageUtils');\n  }\n\n  LanguageUtil.prototype.getScriptPartFromCode = function getScriptPartFromCode(code) {\n    if (!code || code.indexOf('-') < 0) return null;\n\n    var p = code.split('-');\n    if (p.length === 2) return null;\n    p.pop();\n    return this.formatLanguageCode(p.join('-'));\n  };\n\n  LanguageUtil.prototype.getLanguagePartFromCode = function getLanguagePartFromCode(code) {\n    if (!code || code.indexOf('-') < 0) return code;\n\n    var p = code.split('-');\n    return this.formatLanguageCode(p[0]);\n  };\n\n  LanguageUtil.prototype.formatLanguageCode = function formatLanguageCode(code) {\n    // http://www.iana.org/assignments/language-tags/language-tags.xhtml\n    if (typeof code === 'string' && code.indexOf('-') > -1) {\n      var specialCases = ['hans', 'hant', 'latn', 'cyrl', 'cans', 'mong', 'arab'];\n      var p = code.split('-');\n\n      if (this.options.lowerCaseLng) {\n        p = p.map(function (part) {\n          return part.toLowerCase();\n        });\n      } else if (p.length === 2) {\n        p[0] = p[0].toLowerCase();\n        p[1] = p[1].toUpperCase();\n\n        if (specialCases.indexOf(p[1].toLowerCase()) > -1) p[1] = capitalize(p[1].toLowerCase());\n      } else if (p.length === 3) {\n        p[0] = p[0].toLowerCase();\n\n        // if lenght 2 guess it's a country\n        if (p[1].length === 2) p[1] = p[1].toUpperCase();\n        if (p[0] !== 'sgn' && p[2].length === 2) p[2] = p[2].toUpperCase();\n\n        if (specialCases.indexOf(p[1].toLowerCase()) > -1) p[1] = capitalize(p[1].toLowerCase());\n        if (specialCases.indexOf(p[2].toLowerCase()) > -1) p[2] = capitalize(p[2].toLowerCase());\n      }\n\n      return p.join('-');\n    }\n\n    return this.options.cleanCode || this.options.lowerCaseLng ? code.toLowerCase() : code;\n  };\n\n  LanguageUtil.prototype.isWhitelisted = function isWhitelisted(code) {\n    if (this.options.load === 'languageOnly' || this.options.nonExplicitWhitelist) {\n      code = this.getLanguagePartFromCode(code);\n    }\n    return !this.whitelist || !this.whitelist.length || this.whitelist.indexOf(code) > -1;\n  };\n\n  LanguageUtil.prototype.getFallbackCodes = function getFallbackCodes(fallbacks, code) {\n    if (!fallbacks) return [];\n    if (typeof fallbacks === 'string') fallbacks = [fallbacks];\n    if (Object.prototype.toString.apply(fallbacks) === '[object Array]') return fallbacks;\n\n    if (!code) return fallbacks.default || [];\n\n    // asume we have an object defining fallbacks\n    var found = fallbacks[code];\n    if (!found) found = fallbacks[this.getScriptPartFromCode(code)];\n    if (!found) found = fallbacks[this.formatLanguageCode(code)];\n    if (!found) found = fallbacks.default;\n\n    return found || [];\n  };\n\n  LanguageUtil.prototype.toResolveHierarchy = function toResolveHierarchy(code, fallbackCode) {\n    var _this = this;\n\n    var fallbackCodes = this.getFallbackCodes(fallbackCode || this.options.fallbackLng || [], code);\n\n    var codes = [];\n    var addCode = function addCode(c) {\n      if (!c) return;\n      if (_this.isWhitelisted(c)) {\n        codes.push(c);\n      } else {\n        _this.logger.warn('rejecting non-whitelisted language code: ' + c);\n      }\n    };\n\n    if (typeof code === 'string' && code.indexOf('-') > -1) {\n      if (this.options.load !== 'languageOnly') addCode(this.formatLanguageCode(code));\n      if (this.options.load !== 'languageOnly' && this.options.load !== 'currentOnly') addCode(this.getScriptPartFromCode(code));\n      if (this.options.load !== 'currentOnly') addCode(this.getLanguagePartFromCode(code));\n    } else if (typeof code === 'string') {\n      addCode(this.formatLanguageCode(code));\n    }\n\n    fallbackCodes.forEach(function (fc) {\n      if (codes.indexOf(fc) < 0) addCode(_this.formatLanguageCode(fc));\n    });\n\n    return codes;\n  };\n\n  return LanguageUtil;\n}();\n\nexport default LanguageUtil;","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nimport baseLogger from './logger';\n\n// definition http://translate.sourceforge.net/wiki/l10n/pluralforms\n/* eslint-disable */\nvar sets = [{ lngs: ['ach', 'ak', 'am', 'arn', 'br', 'fil', 'gun', 'ln', 'mfe', 'mg', 'mi', 'oc', 'pt', 'pt-BR', 'tg', 'ti', 'tr', 'uz', 'wa'], nr: [1, 2], fc: 1 }, { lngs: ['af', 'an', 'ast', 'az', 'bg', 'bn', 'ca', 'da', 'de', 'dev', 'el', 'en', 'eo', 'es', 'et', 'eu', 'fi', 'fo', 'fur', 'fy', 'gl', 'gu', 'ha', 'he', 'hi', 'hu', 'hy', 'ia', 'it', 'kn', 'ku', 'lb', 'mai', 'ml', 'mn', 'mr', 'nah', 'nap', 'nb', 'ne', 'nl', 'nn', 'no', 'nso', 'pa', 'pap', 'pms', 'ps', 'pt-PT', 'rm', 'sco', 'se', 'si', 'so', 'son', 'sq', 'sv', 'sw', 'ta', 'te', 'tk', 'ur', 'yo'], nr: [1, 2], fc: 2 }, { lngs: ['ay', 'bo', 'cgg', 'fa', 'id', 'ja', 'jbo', 'ka', 'kk', 'km', 'ko', 'ky', 'lo', 'ms', 'sah', 'su', 'th', 'tt', 'ug', 'vi', 'wo', 'zh'], nr: [1], fc: 3 }, { lngs: ['be', 'bs', 'dz', 'hr', 'ru', 'sr', 'uk'], nr: [1, 2, 5], fc: 4 }, { lngs: ['ar'], nr: [0, 1, 2, 3, 11, 100], fc: 5 }, { lngs: ['cs', 'sk'], nr: [1, 2, 5], fc: 6 }, { lngs: ['csb', 'pl'], nr: [1, 2, 5], fc: 7 }, { lngs: ['cy'], nr: [1, 2, 3, 8], fc: 8 }, { lngs: ['fr'], nr: [1, 2], fc: 9 }, { lngs: ['ga'], nr: [1, 2, 3, 7, 11], fc: 10 }, { lngs: ['gd'], nr: [1, 2, 3, 20], fc: 11 }, { lngs: ['is'], nr: [1, 2], fc: 12 }, { lngs: ['jv'], nr: [0, 1], fc: 13 }, { lngs: ['kw'], nr: [1, 2, 3, 4], fc: 14 }, { lngs: ['lt'], nr: [1, 2, 10], fc: 15 }, { lngs: ['lv'], nr: [1, 2, 0], fc: 16 }, { lngs: ['mk'], nr: [1, 2], fc: 17 }, { lngs: ['mnk'], nr: [0, 1, 2], fc: 18 }, { lngs: ['mt'], nr: [1, 2, 11, 20], fc: 19 }, { lngs: ['or'], nr: [2, 1], fc: 2 }, { lngs: ['ro'], nr: [1, 2, 20], fc: 20 }, { lngs: ['sl'], nr: [5, 1, 2, 3], fc: 21 }];\n\nvar _rulesPluralsTypes = {\n  1: function _(n) {\n    return Number(n > 1);\n  },\n  2: function _(n) {\n    return Number(n != 1);\n  },\n  3: function _(n) {\n    return 0;\n  },\n  4: function _(n) {\n    return Number(n % 10 == 1 && n % 100 != 11 ? 0 : n % 10 >= 2 && n % 10 <= 4 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2);\n  },\n  5: function _(n) {\n    return Number(n === 0 ? 0 : n == 1 ? 1 : n == 2 ? 2 : n % 100 >= 3 && n % 100 <= 10 ? 3 : n % 100 >= 11 ? 4 : 5);\n  },\n  6: function _(n) {\n    return Number(n == 1 ? 0 : n >= 2 && n <= 4 ? 1 : 2);\n  },\n  7: function _(n) {\n    return Number(n == 1 ? 0 : n % 10 >= 2 && n % 10 <= 4 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2);\n  },\n  8: function _(n) {\n    return Number(n == 1 ? 0 : n == 2 ? 1 : n != 8 && n != 11 ? 2 : 3);\n  },\n  9: function _(n) {\n    return Number(n >= 2);\n  },\n  10: function _(n) {\n    return Number(n == 1 ? 0 : n == 2 ? 1 : n < 7 ? 2 : n < 11 ? 3 : 4);\n  },\n  11: function _(n) {\n    return Number(n == 1 || n == 11 ? 0 : n == 2 || n == 12 ? 1 : n > 2 && n < 20 ? 2 : 3);\n  },\n  12: function _(n) {\n    return Number(n % 10 != 1 || n % 100 == 11);\n  },\n  13: function _(n) {\n    return Number(n !== 0);\n  },\n  14: function _(n) {\n    return Number(n == 1 ? 0 : n == 2 ? 1 : n == 3 ? 2 : 3);\n  },\n  15: function _(n) {\n    return Number(n % 10 == 1 && n % 100 != 11 ? 0 : n % 10 >= 2 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2);\n  },\n  16: function _(n) {\n    return Number(n % 10 == 1 && n % 100 != 11 ? 0 : n !== 0 ? 1 : 2);\n  },\n  17: function _(n) {\n    return Number(n == 1 || n % 10 == 1 ? 0 : 1);\n  },\n  18: function _(n) {\n    return Number(n == 0 ? 0 : n == 1 ? 1 : 2);\n  },\n  19: function _(n) {\n    return Number(n == 1 ? 0 : n === 0 || n % 100 > 1 && n % 100 < 11 ? 1 : n % 100 > 10 && n % 100 < 20 ? 2 : 3);\n  },\n  20: function _(n) {\n    return Number(n == 1 ? 0 : n === 0 || n % 100 > 0 && n % 100 < 20 ? 1 : 2);\n  },\n  21: function _(n) {\n    return Number(n % 100 == 1 ? 1 : n % 100 == 2 ? 2 : n % 100 == 3 || n % 100 == 4 ? 3 : 0);\n  }\n};\n/* eslint-enable */\n\nfunction createRules() {\n  var rules = {};\n  sets.forEach(function (set) {\n    set.lngs.forEach(function (l) {\n      rules[l] = {\n        numbers: set.nr,\n        plurals: _rulesPluralsTypes[set.fc]\n      };\n    });\n  });\n  return rules;\n}\n\nvar PluralResolver = function () {\n  function PluralResolver(languageUtils) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _classCallCheck(this, PluralResolver);\n\n    this.languageUtils = languageUtils;\n    this.options = options;\n\n    this.logger = baseLogger.create('pluralResolver');\n\n    this.rules = createRules();\n  }\n\n  PluralResolver.prototype.addRule = function addRule(lng, obj) {\n    this.rules[lng] = obj;\n  };\n\n  PluralResolver.prototype.getRule = function getRule(code) {\n    return this.rules[code] || this.rules[this.languageUtils.getLanguagePartFromCode(code)];\n  };\n\n  PluralResolver.prototype.needsPlural = function needsPlural(code) {\n    var rule = this.getRule(code);\n\n    return rule && rule.numbers.length > 1;\n  };\n\n  PluralResolver.prototype.getSuffix = function getSuffix(code, count) {\n    var _this = this;\n\n    var rule = this.getRule(code);\n\n    if (rule) {\n      //if (rule.numbers.length === 1) return ''; // only singular\n\n      var idx = rule.noAbs ? rule.plurals(count) : rule.plurals(Math.abs(count));\n      var suffix = rule.numbers[idx];\n\n      // special treatment for lngs only having singular and plural\n      if (this.options.simplifyPluralSuffix && rule.numbers.length === 2 && rule.numbers[0] === 1) {\n        if (suffix === 2) {\n          suffix = 'plural';\n        } else if (suffix === 1) {\n          suffix = '';\n        }\n      }\n\n      var returnSuffix = function returnSuffix() {\n        return _this.options.prepend && suffix.toString() ? _this.options.prepend + suffix.toString() : suffix.toString();\n      };\n\n      // COMPATIBILITY JSON\n      // v1\n      if (this.options.compatibilityJSON === 'v1') {\n        if (suffix === 1) return '';\n        if (typeof suffix === 'number') return '_plural_' + suffix.toString();\n        return returnSuffix();\n      } else if ( /* v2 */this.options.compatibilityJSON === 'v2' || rule.numbers.length === 2 && rule.numbers[0] === 1) {\n        return returnSuffix();\n      } else if ( /* v3 - gettext index */rule.numbers.length === 2 && rule.numbers[0] === 1) {\n        return returnSuffix();\n      }\n      return this.options.prepend && idx.toString() ? this.options.prepend + idx.toString() : idx.toString();\n    }\n\n    this.logger.warn('no plural rule found for: ' + code);\n    return '';\n  };\n\n  return PluralResolver;\n}();\n\nexport default PluralResolver;","var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nimport * as utils from './utils';\nimport baseLogger from './logger';\n\nvar Interpolator = function () {\n  function Interpolator() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    _classCallCheck(this, Interpolator);\n\n    this.logger = baseLogger.create('interpolator');\n\n    this.init(options, true);\n  }\n\n  /* eslint no-param-reassign: 0 */\n\n\n  Interpolator.prototype.init = function init() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var reset = arguments[1];\n\n    if (reset) {\n      this.options = options;\n      this.format = options.interpolation && options.interpolation.format || function (value) {\n        return value;\n      };\n      this.escape = options.interpolation && options.interpolation.escape || utils.escape;\n    }\n    if (!options.interpolation) options.interpolation = { escapeValue: true };\n\n    var iOpts = options.interpolation;\n\n    this.escapeValue = iOpts.escapeValue !== undefined ? iOpts.escapeValue : true;\n\n    this.prefix = iOpts.prefix ? utils.regexEscape(iOpts.prefix) : iOpts.prefixEscaped || '{{';\n    this.suffix = iOpts.suffix ? utils.regexEscape(iOpts.suffix) : iOpts.suffixEscaped || '}}';\n\n    this.formatSeparator = iOpts.formatSeparator ? iOpts.formatSeparator : iOpts.formatSeparator || ',';\n\n    this.unescapePrefix = iOpts.unescapeSuffix ? '' : iOpts.unescapePrefix || '-';\n    this.unescapeSuffix = this.unescapePrefix ? '' : iOpts.unescapeSuffix || '';\n\n    this.nestingPrefix = iOpts.nestingPrefix ? utils.regexEscape(iOpts.nestingPrefix) : iOpts.nestingPrefixEscaped || utils.regexEscape('$t(');\n    this.nestingSuffix = iOpts.nestingSuffix ? utils.regexEscape(iOpts.nestingSuffix) : iOpts.nestingSuffixEscaped || utils.regexEscape(')');\n\n    this.maxReplaces = iOpts.maxReplaces ? iOpts.maxReplaces : 1000;\n\n    // the regexp\n    this.resetRegExp();\n  };\n\n  Interpolator.prototype.reset = function reset() {\n    if (this.options) this.init(this.options);\n  };\n\n  Interpolator.prototype.resetRegExp = function resetRegExp() {\n    // the regexp\n    var regexpStr = this.prefix + '(.+?)' + this.suffix;\n    this.regexp = new RegExp(regexpStr, 'g');\n\n    var regexpUnescapeStr = '' + this.prefix + this.unescapePrefix + '(.+?)' + this.unescapeSuffix + this.suffix;\n    this.regexpUnescape = new RegExp(regexpUnescapeStr, 'g');\n\n    var nestingRegexpStr = this.nestingPrefix + '(.+?)' + this.nestingSuffix;\n    this.nestingRegexp = new RegExp(nestingRegexpStr, 'g');\n  };\n\n  Interpolator.prototype.interpolate = function interpolate(str, data, lng) {\n    var _this = this;\n\n    var match = void 0;\n    var value = void 0;\n    var replaces = void 0;\n\n    function regexSafe(val) {\n      return val.replace(/\\$/g, '$$$$');\n    }\n\n    var handleFormat = function handleFormat(key) {\n      if (key.indexOf(_this.formatSeparator) < 0) return utils.getPath(data, key);\n\n      var p = key.split(_this.formatSeparator);\n      var k = p.shift().trim();\n      var f = p.join(_this.formatSeparator).trim();\n\n      return _this.format(utils.getPath(data, k), f, lng);\n    };\n\n    this.resetRegExp();\n\n    replaces = 0;\n    // unescape if has unescapePrefix/Suffix\n    /* eslint no-cond-assign: 0 */\n    while (match = this.regexpUnescape.exec(str)) {\n      value = handleFormat(match[1].trim());\n      str = str.replace(match[0], value);\n      this.regexpUnescape.lastIndex = 0;\n      replaces++;\n      if (replaces >= this.maxReplaces) {\n        break;\n      }\n    }\n\n    replaces = 0;\n    // regular escape on demand\n    while (match = this.regexp.exec(str)) {\n      value = handleFormat(match[1].trim());\n      if (typeof value !== 'string') value = utils.makeString(value);\n      if (!value) {\n        this.logger.warn('missed to pass in variable ' + match[1] + ' for interpolating ' + str);\n        value = '';\n      }\n      value = this.escapeValue ? regexSafe(this.escape(value)) : regexSafe(value);\n      str = str.replace(match[0], value);\n      this.regexp.lastIndex = 0;\n      replaces++;\n      if (replaces >= this.maxReplaces) {\n        break;\n      }\n    }\n    return str;\n  };\n\n  Interpolator.prototype.nest = function nest(str, fc) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n    var match = void 0;\n    var value = void 0;\n\n    var clonedOptions = _extends({}, options);\n    clonedOptions.applyPostProcessor = false; // avoid post processing on nested lookup\n\n    // if value is something like \"myKey\": \"lorem $(anotherKey, { \"count\": {{aValueInOptions}} })\"\n    function handleHasOptions(key) {\n      if (key.indexOf(',') < 0) return key;\n\n      var p = key.split(',');\n      key = p.shift();\n      var optionsString = p.join(',');\n      optionsString = this.interpolate(optionsString, clonedOptions);\n      optionsString = optionsString.replace(/'/g, '\"');\n\n      try {\n        clonedOptions = JSON.parse(optionsString);\n      } catch (e) {\n        this.logger.error('failed parsing options string in nesting for key ' + key, e);\n      }\n\n      return key;\n    }\n\n    // regular escape on demand\n    while (match = this.nestingRegexp.exec(str)) {\n      value = fc(handleHasOptions.call(this, match[1].trim()), clonedOptions);\n\n      // is only the nesting key (key1 = '$(key2)') return the value without stringify\n      if (value && match[0] === str && typeof value !== 'string') return value;\n\n      // no string to include or empty\n      if (typeof value !== 'string') value = utils.makeString(value);\n      if (!value) {\n        this.logger.warn('missed to resolve ' + match[1] + ' for nesting ' + str);\n        value = '';\n      }\n      // Nested keys should not be escaped by default #854\n      // value = this.escapeValue ? regexSafe(utils.escape(value)) : regexSafe(value);\n      str = str.replace(match[0], value);\n      this.regexp.lastIndex = 0;\n    }\n    return str;\n  };\n\n  return Interpolator;\n}();\n\nexport default Interpolator;","var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nfunction _defaults(obj, defaults) { var keys = Object.getOwnPropertyNames(defaults); for (var i = 0; i < keys.length; i++) { var key = keys[i]; var value = Object.getOwnPropertyDescriptor(defaults, key); if (value && value.configurable && obj[key] === undefined) { Object.defineProperty(obj, key, value); } } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : _defaults(subClass, superClass); }\n\nimport * as utils from './utils';\nimport baseLogger from './logger';\nimport EventEmitter from './EventEmitter';\n\nfunction remove(arr, what) {\n  var found = arr.indexOf(what);\n\n  while (found !== -1) {\n    arr.splice(found, 1);\n    found = arr.indexOf(what);\n  }\n}\n\nvar Connector = function (_EventEmitter) {\n  _inherits(Connector, _EventEmitter);\n\n  function Connector(backend, store, services) {\n    var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n\n    _classCallCheck(this, Connector);\n\n    var _this = _possibleConstructorReturn(this, _EventEmitter.call(this));\n\n    _this.backend = backend;\n    _this.store = store;\n    _this.languageUtils = services.languageUtils;\n    _this.options = options;\n    _this.logger = baseLogger.create('backendConnector');\n\n    _this.state = {};\n    _this.queue = [];\n\n    if (_this.backend && _this.backend.init) {\n      _this.backend.init(services, options.backend, options);\n    }\n    return _this;\n  }\n\n  Connector.prototype.queueLoad = function queueLoad(languages, namespaces, callback) {\n    var _this2 = this;\n\n    // find what needs to be loaded\n    var toLoad = [];\n    var pending = [];\n    var toLoadLanguages = [];\n    var toLoadNamespaces = [];\n\n    languages.forEach(function (lng) {\n      var hasAllNamespaces = true;\n\n      namespaces.forEach(function (ns) {\n        var name = lng + '|' + ns;\n\n        if (_this2.store.hasResourceBundle(lng, ns)) {\n          _this2.state[name] = 2; // loaded\n        } else if (_this2.state[name] < 0) {\n          // nothing to do for err\n        } else if (_this2.state[name] === 1) {\n          if (pending.indexOf(name) < 0) pending.push(name);\n        } else {\n          _this2.state[name] = 1; // pending\n\n          hasAllNamespaces = false;\n\n          if (pending.indexOf(name) < 0) pending.push(name);\n          if (toLoad.indexOf(name) < 0) toLoad.push(name);\n          if (toLoadNamespaces.indexOf(ns) < 0) toLoadNamespaces.push(ns);\n        }\n      });\n\n      if (!hasAllNamespaces) toLoadLanguages.push(lng);\n    });\n\n    if (toLoad.length || pending.length) {\n      this.queue.push({\n        pending: pending,\n        loaded: {},\n        errors: [],\n        callback: callback\n      });\n    }\n\n    return {\n      toLoad: toLoad,\n      pending: pending,\n      toLoadLanguages: toLoadLanguages,\n      toLoadNamespaces: toLoadNamespaces\n    };\n  };\n\n  Connector.prototype.loaded = function loaded(name, err, data) {\n    var _this3 = this;\n\n    var _name$split = name.split('|'),\n        _name$split2 = _slicedToArray(_name$split, 2),\n        lng = _name$split2[0],\n        ns = _name$split2[1];\n\n    if (err) this.emit('failedLoading', lng, ns, err);\n\n    if (data) {\n      this.store.addResourceBundle(lng, ns, data);\n    }\n\n    // set loaded\n    this.state[name] = err ? -1 : 2;\n\n    // callback if ready\n    this.queue.forEach(function (q) {\n      utils.pushPath(q.loaded, [lng], ns);\n      remove(q.pending, name);\n\n      if (err) q.errors.push(err);\n\n      if (q.pending.length === 0 && !q.done) {\n        _this3.emit('loaded', q.loaded);\n        /* eslint no-param-reassign: 0 */\n        q.done = true;\n        if (q.errors.length) {\n          q.callback(q.errors);\n        } else {\n          q.callback();\n        }\n      }\n    });\n\n    // remove done load requests\n    this.queue = this.queue.filter(function (q) {\n      return !q.done;\n    });\n  };\n\n  Connector.prototype.read = function read(lng, ns, fcName) {\n    var tried = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;\n\n    var _this4 = this;\n\n    var wait = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 250;\n    var callback = arguments[5];\n\n    if (!lng.length) return callback(null, {}); // noting to load\n\n    return this.backend[fcName](lng, ns, function (err, data) {\n      if (err && data /* = retryFlag */ && tried < 5) {\n        setTimeout(function () {\n          _this4.read.call(_this4, lng, ns, fcName, tried + 1, wait * 2, callback);\n        }, wait);\n        return;\n      }\n      callback(err, data);\n    });\n  };\n\n  /* eslint consistent-return: 0 */\n\n\n  Connector.prototype.load = function load(languages, namespaces, callback) {\n    var _this5 = this;\n\n    if (!this.backend) {\n      this.logger.warn('No backend was added via i18next.use. Will not load resources.');\n      return callback && callback();\n    }\n    var options = _extends({}, this.backend.options, this.options.backend);\n\n    if (typeof languages === 'string') languages = this.languageUtils.toResolveHierarchy(languages);\n    if (typeof namespaces === 'string') namespaces = [namespaces];\n\n    var toLoad = this.queueLoad(languages, namespaces, callback);\n    if (!toLoad.toLoad.length) {\n      if (!toLoad.pending.length) callback(); // nothing to load and no pendings...callback now\n      return null; // pendings will trigger callback\n    }\n\n    // load with multi-load\n    if (options.allowMultiLoading && this.backend.readMulti) {\n      this.read(toLoad.toLoadLanguages, toLoad.toLoadNamespaces, 'readMulti', null, null, function (err, data) {\n        if (err) _this5.logger.warn('loading namespaces ' + toLoad.toLoadNamespaces.join(', ') + ' for languages ' + toLoad.toLoadLanguages.join(', ') + ' via multiloading failed', err);\n        if (!err && data) _this5.logger.log('successfully loaded namespaces ' + toLoad.toLoadNamespaces.join(', ') + ' for languages ' + toLoad.toLoadLanguages.join(', ') + ' via multiloading', data);\n\n        toLoad.toLoad.forEach(function (name) {\n          var _name$split3 = name.split('|'),\n              _name$split4 = _slicedToArray(_name$split3, 2),\n              l = _name$split4[0],\n              n = _name$split4[1];\n\n          var bundle = utils.getPath(data, [l, n]);\n          if (bundle) {\n            _this5.loaded(name, err, bundle);\n          } else {\n            var error = 'loading namespace ' + n + ' for language ' + l + ' via multiloading failed';\n            _this5.loaded(name, error);\n            _this5.logger.error(error);\n          }\n        });\n      });\n    } else {\n      toLoad.toLoad.forEach(function (name) {\n        _this5.loadOne(name);\n      });\n    }\n  };\n\n  Connector.prototype.reload = function reload(languages, namespaces) {\n    var _this6 = this;\n\n    if (!this.backend) {\n      this.logger.warn('No backend was added via i18next.use. Will not load resources.');\n    }\n    var options = _extends({}, this.backend.options, this.options.backend);\n\n    if (typeof languages === 'string') languages = this.languageUtils.toResolveHierarchy(languages);\n    if (typeof namespaces === 'string') namespaces = [namespaces];\n\n    // load with multi-load\n    if (options.allowMultiLoading && this.backend.readMulti) {\n      this.read(languages, namespaces, 'readMulti', null, null, function (err, data) {\n        if (err) _this6.logger.warn('reloading namespaces ' + namespaces.join(', ') + ' for languages ' + languages.join(', ') + ' via multiloading failed', err);\n        if (!err && data) _this6.logger.log('successfully reloaded namespaces ' + namespaces.join(', ') + ' for languages ' + languages.join(', ') + ' via multiloading', data);\n\n        languages.forEach(function (l) {\n          namespaces.forEach(function (n) {\n            var bundle = utils.getPath(data, [l, n]);\n            if (bundle) {\n              _this6.loaded(l + '|' + n, err, bundle);\n            } else {\n              var error = 'reloading namespace ' + n + ' for language ' + l + ' via multiloading failed';\n              _this6.loaded(l + '|' + n, error);\n              _this6.logger.error(error);\n            }\n          });\n        });\n      });\n    } else {\n      languages.forEach(function (l) {\n        namespaces.forEach(function (n) {\n          _this6.loadOne(l + '|' + n, 're');\n        });\n      });\n    }\n  };\n\n  Connector.prototype.loadOne = function loadOne(name) {\n    var _this7 = this;\n\n    var prefix = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n\n    var _name$split5 = name.split('|'),\n        _name$split6 = _slicedToArray(_name$split5, 2),\n        lng = _name$split6[0],\n        ns = _name$split6[1];\n\n    this.read(lng, ns, 'read', null, null, function (err, data) {\n      if (err) _this7.logger.warn(prefix + 'loading namespace ' + ns + ' for language ' + lng + ' failed', err);\n      if (!err && data) _this7.logger.log(prefix + 'loaded namespace ' + ns + ' for language ' + lng, data);\n\n      _this7.loaded(name, err, data);\n    });\n  };\n\n  Connector.prototype.saveMissing = function saveMissing(languages, namespace, key, fallbackValue) {\n    if (this.backend && this.backend.create) this.backend.create(languages, namespace, key, fallbackValue);\n\n    // write to store to avoid resending\n    if (!languages || !languages[0]) return;\n    this.store.addResource(languages[0], namespace, key, fallbackValue);\n  };\n\n  return Connector;\n}(EventEmitter);\n\nexport default Connector;","var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction _defaults(obj, defaults) { var keys = Object.getOwnPropertyNames(defaults); for (var i = 0; i < keys.length; i++) { var key = keys[i]; var value = Object.getOwnPropertyDescriptor(defaults, key); if (value && value.configurable && obj[key] === undefined) { Object.defineProperty(obj, key, value); } } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : _defaults(subClass, superClass); }\n\nimport baseLogger from './logger';\nimport EventEmitter from './EventEmitter';\n\nvar Connector = function (_EventEmitter) {\n  _inherits(Connector, _EventEmitter);\n\n  function Connector(cache, store, services) {\n    var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n\n    _classCallCheck(this, Connector);\n\n    var _this = _possibleConstructorReturn(this, _EventEmitter.call(this));\n\n    _this.cache = cache;\n    _this.store = store;\n    _this.services = services;\n    _this.options = options;\n    _this.logger = baseLogger.create('cacheConnector');\n\n    if (_this.cache && _this.cache.init) _this.cache.init(services, options.cache, options);\n    return _this;\n  }\n\n  /* eslint consistent-return: 0 */\n\n\n  Connector.prototype.load = function load(languages, namespaces, callback) {\n    var _this2 = this;\n\n    if (!this.cache) return callback && callback();\n    var options = _extends({}, this.cache.options, this.options.cache);\n\n    var loadLngs = typeof languages === 'string' ? this.services.languageUtils.toResolveHierarchy(languages) : languages;\n\n    if (options.enabled) {\n      this.cache.load(loadLngs, function (err, data) {\n        if (err) _this2.logger.error('loading languages ' + loadLngs.join(', ') + ' from cache failed', err);\n        if (data) {\n          /* eslint no-restricted-syntax: 0 */\n          for (var l in data) {\n            if (Object.prototype.hasOwnProperty.call(data, l)) {\n              for (var n in data[l]) {\n                if (Object.prototype.hasOwnProperty.call(data[l], n)) {\n                  if (n !== 'i18nStamp') {\n                    var bundle = data[l][n];\n                    if (bundle) _this2.store.addResourceBundle(l, n, bundle);\n                  }\n                }\n              }\n            }\n          }\n        }\n        if (callback) callback();\n      });\n    } else if (callback) {\n      callback();\n    }\n  };\n\n  Connector.prototype.save = function save() {\n    if (this.cache && this.options.cache && this.options.cache.enabled) this.cache.save(this.store.data);\n  };\n\n  return Connector;\n}(EventEmitter);\n\nexport default Connector;","export { get };\nfunction get() {\n  return {\n    debug: false,\n    initImmediate: true,\n\n    ns: ['translation'],\n    defaultNS: ['translation'],\n    fallbackLng: ['dev'],\n    fallbackNS: false, // string or array of namespaces\n\n    whitelist: false, // array with whitelisted languages\n    nonExplicitWhitelist: false,\n    load: 'all', // | currentOnly | languageOnly\n    preload: false, // array with preload languages\n\n    simplifyPluralSuffix: true,\n    keySeparator: '.',\n    nsSeparator: ':',\n    pluralSeparator: '_',\n    contextSeparator: '_',\n\n    saveMissing: false, // enable to send missing values\n    saveMissingTo: 'fallback', // 'current' || 'all'\n    missingKeyHandler: false, // function(lng, ns, key, fallbackValue) -> override if prefer on handling\n\n    postProcess: false, // string or array of postProcessor names\n    returnNull: true, // allows null value as valid translation\n    returnEmptyString: true, // allows empty string value as valid translation\n    returnObjects: false,\n    joinArrays: false, // or string to join array\n    returnedObjectHandler: function returnedObjectHandler() {}, // function(key, value, options) triggered if key returns object but returnObjects is set to false\n    parseMissingKeyHandler: false, // function(key) parsed a key that was not found in t() before returning\n    appendNamespaceToMissingKey: false,\n    appendNamespaceToCIMode: false,\n    overloadTranslationOptionHandler: function handle(args) {\n      return { defaultValue: args[1] };\n    },\n\n    interpolation: {\n      escapeValue: true,\n      format: function format(value, _format, lng) {\n        return value;\n      },\n      prefix: '{{',\n      suffix: '}}',\n      formatSeparator: ',',\n      // prefixEscaped: '{{',\n      // suffixEscaped: '}}',\n      // unescapeSuffix: '',\n      unescapePrefix: '-',\n\n      nestingPrefix: '$t(',\n      nestingSuffix: ')',\n      // nestingPrefixEscaped: '$t(',\n      // nestingSuffixEscaped: ')',\n      // defaultVariables: undefined // object that can have values to interpolate on - extends passed in interpolation data\n      maxReplaces: 1000 // max replaces to prevent endless loop\n    }\n  };\n}\n\n/* eslint no-param-reassign: 0 */\nexport function transformOptions(options) {\n  // create namespace object if namespace is passed in as string\n  if (typeof options.ns === 'string') options.ns = [options.ns];\n  if (typeof options.fallbackLng === 'string') options.fallbackLng = [options.fallbackLng];\n  if (typeof options.fallbackNS === 'string') options.fallbackNS = [options.fallbackNS];\n\n  // extend whitelist with cimode\n  if (options.whitelist && options.whitelist.indexOf('cimode') < 0) options.whitelist.push('cimode');\n\n  return options;\n}","var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction _defaults(obj, defaults) { var keys = Object.getOwnPropertyNames(defaults); for (var i = 0; i < keys.length; i++) { var key = keys[i]; var value = Object.getOwnPropertyDescriptor(defaults, key); if (value && value.configurable && obj[key] === undefined) { Object.defineProperty(obj, key, value); } } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : _defaults(subClass, superClass); }\n\nimport baseLogger from './logger';\nimport EventEmitter from './EventEmitter';\nimport ResourceStore from './ResourceStore';\nimport Translator from './Translator';\nimport LanguageUtils from './LanguageUtils';\nimport PluralResolver from './PluralResolver';\nimport Interpolator from './Interpolator';\nimport BackendConnector from './BackendConnector';\nimport CacheConnector from './CacheConnector';\nimport { get as getDefaults, transformOptions } from './defaults';\nimport postProcessor from './postProcessor';\n\nfunction noop() {}\n\nvar I18n = function (_EventEmitter) {\n  _inherits(I18n, _EventEmitter);\n\n  function I18n() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var callback = arguments[1];\n\n    _classCallCheck(this, I18n);\n\n    var _this = _possibleConstructorReturn(this, _EventEmitter.call(this));\n\n    _this.options = transformOptions(options);\n    _this.services = {};\n    _this.logger = baseLogger;\n    _this.modules = { external: [] };\n\n    if (callback && !_this.isInitialized && !options.isClone) {\n      var _ret;\n\n      // https://github.com/i18next/i18next/issues/879\n      if (!_this.options.initImmediate) return _ret = _this.init(options, callback), _possibleConstructorReturn(_this, _ret);\n      setTimeout(function () {\n        _this.init(options, callback);\n      }, 0);\n    }\n    return _this;\n  }\n\n  I18n.prototype.init = function init() {\n    var _this2 = this;\n\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var callback = arguments[1];\n\n    if (typeof options === 'function') {\n      callback = options;\n      options = {};\n    }\n    this.options = _extends({}, getDefaults(), this.options, transformOptions(options));\n\n    this.format = this.options.interpolation.format;\n    if (!callback) callback = noop;\n\n    function createClassOnDemand(ClassOrObject) {\n      if (!ClassOrObject) return null;\n      if (typeof ClassOrObject === 'function') return new ClassOrObject();\n      return ClassOrObject;\n    }\n\n    // init services\n    if (!this.options.isClone) {\n      if (this.modules.logger) {\n        baseLogger.init(createClassOnDemand(this.modules.logger), this.options);\n      } else {\n        baseLogger.init(null, this.options);\n      }\n\n      var lu = new LanguageUtils(this.options);\n      this.store = new ResourceStore(this.options.resources, this.options);\n\n      var s = this.services;\n      s.logger = baseLogger;\n      s.resourceStore = this.store;\n      s.resourceStore.on('added removed', function (lng, ns) {\n        s.cacheConnector.save();\n      });\n      s.languageUtils = lu;\n      s.pluralResolver = new PluralResolver(lu, { prepend: this.options.pluralSeparator, compatibilityJSON: this.options.compatibilityJSON, simplifyPluralSuffix: this.options.simplifyPluralSuffix });\n      s.interpolator = new Interpolator(this.options);\n\n      s.backendConnector = new BackendConnector(createClassOnDemand(this.modules.backend), s.resourceStore, s, this.options);\n      // pipe events from backendConnector\n      s.backendConnector.on('*', function (event) {\n        for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n          args[_key - 1] = arguments[_key];\n        }\n\n        _this2.emit.apply(_this2, [event].concat(args));\n      });\n\n      s.backendConnector.on('loaded', function (loaded) {\n        s.cacheConnector.save();\n      });\n\n      s.cacheConnector = new CacheConnector(createClassOnDemand(this.modules.cache), s.resourceStore, s, this.options);\n      // pipe events from backendConnector\n      s.cacheConnector.on('*', function (event) {\n        for (var _len2 = arguments.length, args = Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n          args[_key2 - 1] = arguments[_key2];\n        }\n\n        _this2.emit.apply(_this2, [event].concat(args));\n      });\n\n      if (this.modules.languageDetector) {\n        s.languageDetector = createClassOnDemand(this.modules.languageDetector);\n        s.languageDetector.init(s, this.options.detection, this.options);\n      }\n\n      this.translator = new Translator(this.services, this.options);\n      // pipe events from translator\n      this.translator.on('*', function (event) {\n        for (var _len3 = arguments.length, args = Array(_len3 > 1 ? _len3 - 1 : 0), _key3 = 1; _key3 < _len3; _key3++) {\n          args[_key3 - 1] = arguments[_key3];\n        }\n\n        _this2.emit.apply(_this2, [event].concat(args));\n      });\n\n      this.modules.external.forEach(function (m) {\n        if (m.init) m.init(_this2);\n      });\n    }\n\n    // append api\n    var storeApi = ['getResource', 'addResource', 'addResources', 'addResourceBundle', 'removeResourceBundle', 'hasResourceBundle', 'getResourceBundle'];\n    storeApi.forEach(function (fcName) {\n      _this2[fcName] = function () {\n        var _store;\n\n        return (_store = _this2.store)[fcName].apply(_store, arguments);\n      };\n    });\n\n    var load = function load() {\n      _this2.changeLanguage(_this2.options.lng, function (err, t) {\n        _this2.isInitialized = true;\n        _this2.logger.log('initialized', _this2.options);\n        _this2.emit('initialized', _this2.options);\n\n        callback(err, t);\n      });\n    };\n\n    if (this.options.resources || !this.options.initImmediate) {\n      load();\n    } else {\n      setTimeout(load, 0);\n    }\n\n    return this;\n  };\n\n  /* eslint consistent-return: 0 */\n\n\n  I18n.prototype.loadResources = function loadResources() {\n    var _this3 = this;\n\n    var callback = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : noop;\n\n    if (!this.options.resources) {\n      if (this.language && this.language.toLowerCase() === 'cimode') return callback(); // avoid loading resources for cimode\n\n      var toLoad = [];\n\n      var append = function append(lng) {\n        if (!lng) return;\n        var lngs = _this3.services.languageUtils.toResolveHierarchy(lng);\n        lngs.forEach(function (l) {\n          if (toLoad.indexOf(l) < 0) toLoad.push(l);\n        });\n      };\n\n      if (!this.language) {\n        // at least load fallbacks in this case\n        var fallbacks = this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);\n        fallbacks.forEach(function (l) {\n          return append(l);\n        });\n      } else {\n        append(this.language);\n      }\n\n      if (this.options.preload) {\n        this.options.preload.forEach(function (l) {\n          return append(l);\n        });\n      }\n\n      this.services.cacheConnector.load(toLoad, this.options.ns, function () {\n        _this3.services.backendConnector.load(toLoad, _this3.options.ns, callback);\n      });\n    } else {\n      callback(null);\n    }\n  };\n\n  I18n.prototype.reloadResources = function reloadResources(lngs, ns) {\n    if (!lngs) lngs = this.languages;\n    if (!ns) ns = this.options.ns;\n    this.services.backendConnector.reload(lngs, ns);\n  };\n\n  I18n.prototype.use = function use(module) {\n    if (module.type === 'backend') {\n      this.modules.backend = module;\n    }\n\n    if (module.type === 'cache') {\n      this.modules.cache = module;\n    }\n\n    if (module.type === 'logger' || module.log && module.warn && module.error) {\n      this.modules.logger = module;\n    }\n\n    if (module.type === 'languageDetector') {\n      this.modules.languageDetector = module;\n    }\n\n    if (module.type === 'postProcessor') {\n      postProcessor.addPostProcessor(module);\n    }\n\n    if (module.type === '3rdParty') {\n      this.modules.external.push(module);\n    }\n\n    return this;\n  };\n\n  I18n.prototype.changeLanguage = function changeLanguage(lng, callback) {\n    var _this4 = this;\n\n    var done = function done(err, l) {\n      _this4.translator.changeLanguage(l);\n\n      if (l) {\n        _this4.emit('languageChanged', l);\n        _this4.logger.log('languageChanged', l);\n      }\n\n      if (callback) callback(err, function () {\n        return _this4.t.apply(_this4, arguments);\n      });\n    };\n\n    var setLng = function setLng(l) {\n      if (l) {\n        _this4.language = l;\n        _this4.languages = _this4.services.languageUtils.toResolveHierarchy(l);\n\n        if (_this4.services.languageDetector) _this4.services.languageDetector.cacheUserLanguage(l);\n      }\n\n      _this4.loadResources(function (err) {\n        done(err, l);\n      });\n    };\n\n    if (!lng && this.services.languageDetector && !this.services.languageDetector.async) {\n      setLng(this.services.languageDetector.detect());\n    } else if (!lng && this.services.languageDetector && this.services.languageDetector.async) {\n      this.services.languageDetector.detect(setLng);\n    } else {\n      setLng(lng);\n    }\n  };\n\n  I18n.prototype.getFixedT = function getFixedT(lng, ns) {\n    var _this5 = this;\n\n    var fixedT = function fixedT(key) {\n      var opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      var options = typeof opts === 'string' ? { defaultValue: opts } : _extends({}, opts);\n      options.lng = options.lng || fixedT.lng;\n      options.lngs = options.lngs || fixedT.lngs;\n      options.ns = options.ns || fixedT.ns;\n      return _this5.t(key, options);\n    };\n    if (typeof lng === 'string') {\n      fixedT.lng = lng;\n    } else {\n      fixedT.lngs = lng;\n    }\n    fixedT.ns = ns;\n    return fixedT;\n  };\n\n  I18n.prototype.t = function t() {\n    var _translator;\n\n    return this.translator && (_translator = this.translator).translate.apply(_translator, arguments);\n  };\n\n  I18n.prototype.exists = function exists() {\n    var _translator2;\n\n    return this.translator && (_translator2 = this.translator).exists.apply(_translator2, arguments);\n  };\n\n  I18n.prototype.setDefaultNamespace = function setDefaultNamespace(ns) {\n    this.options.defaultNS = ns;\n  };\n\n  I18n.prototype.loadNamespaces = function loadNamespaces(ns, callback) {\n    var _this6 = this;\n\n    if (!this.options.ns) return callback && callback();\n    if (typeof ns === 'string') ns = [ns];\n\n    ns.forEach(function (n) {\n      if (_this6.options.ns.indexOf(n) < 0) _this6.options.ns.push(n);\n    });\n\n    this.loadResources(callback);\n  };\n\n  I18n.prototype.loadLanguages = function loadLanguages(lngs, callback) {\n    if (typeof lngs === 'string') lngs = [lngs];\n    var preloaded = this.options.preload || [];\n\n    var newLngs = lngs.filter(function (lng) {\n      return preloaded.indexOf(lng) < 0;\n    });\n    // Exit early if all given languages are already preloaded\n    if (!newLngs.length) return callback();\n\n    this.options.preload = preloaded.concat(newLngs);\n    this.loadResources(callback);\n  };\n\n  I18n.prototype.dir = function dir(lng) {\n    if (!lng) lng = this.languages && this.languages.length > 0 ? this.languages[0] : this.language;\n    if (!lng) return 'rtl';\n\n    var rtlLngs = ['ar', 'shu', 'sqr', 'ssh', 'xaa', 'yhd', 'yud', 'aao', 'abh', 'abv', 'acm', 'acq', 'acw', 'acx', 'acy', 'adf', 'ads', 'aeb', 'aec', 'afb', 'ajp', 'apc', 'apd', 'arb', 'arq', 'ars', 'ary', 'arz', 'auz', 'avl', 'ayh', 'ayl', 'ayn', 'ayp', 'bbz', 'pga', 'he', 'iw', 'ps', 'pbt', 'pbu', 'pst', 'prp', 'prd', 'ur', 'ydd', 'yds', 'yih', 'ji', 'yi', 'hbo', 'men', 'xmn', 'fa', 'jpr', 'peo', 'pes', 'prs', 'dv', 'sam'];\n\n    return rtlLngs.indexOf(this.services.languageUtils.getLanguagePartFromCode(lng)) >= 0 ? 'rtl' : 'ltr';\n  };\n\n  /* eslint class-methods-use-this: 0 */\n\n\n  I18n.prototype.createInstance = function createInstance() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var callback = arguments[1];\n\n    return new I18n(options, callback);\n  };\n\n  I18n.prototype.cloneInstance = function cloneInstance() {\n    var _this7 = this;\n\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var callback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n\n    var mergedOptions = _extends({}, this.options, options, { isClone: true });\n    var clone = new I18n(mergedOptions, callback);\n    var membersToCopy = ['store', 'services', 'language'];\n    membersToCopy.forEach(function (m) {\n      clone[m] = _this7[m];\n    });\n    clone.translator = new Translator(clone.services, clone.options);\n    clone.translator.on('*', function (event) {\n      for (var _len4 = arguments.length, args = Array(_len4 > 1 ? _len4 - 1 : 0), _key4 = 1; _key4 < _len4; _key4++) {\n        args[_key4 - 1] = arguments[_key4];\n      }\n\n      clone.emit.apply(clone, [event].concat(args));\n    });\n    clone.init(mergedOptions, callback);\n\n    return clone;\n  };\n\n  return I18n;\n}(EventEmitter);\n\nexport default new I18n();","export default {\n\n  processors: {},\n\n  addPostProcessor: function addPostProcessor(module) {\n    this.processors[module.name] = module;\n  },\n  handle: function handle(processors, value, key, options, translator) {\n    var _this = this;\n\n    processors.forEach(function (processor) {\n      if (_this.processors[processor]) value = _this.processors[processor].process(value, key, options, translator);\n    });\n\n    return value;\n  }\n};","import i18next from './i18next';\n\nexport default i18next;\n\nexport var changeLanguage = i18next.changeLanguage.bind(i18next);\nexport var cloneInstance = i18next.cloneInstance.bind(i18next);\nexport var createInstance = i18next.createInstance.bind(i18next);\nexport var dir = i18next.dir.bind(i18next);\nexport var exists = i18next.exists.bind(i18next);\nexport var getFixedT = i18next.getFixedT.bind(i18next);\nexport var init = i18next.init.bind(i18next);\nexport var loadLanguages = i18next.loadLanguages.bind(i18next);\nexport var loadNamespaces = i18next.loadNamespaces.bind(i18next);\nexport var loadResources = i18next.loadResources.bind(i18next);\nexport var off = i18next.off.bind(i18next);\nexport var on = i18next.on.bind(i18next);\nexport var setDefaultNamespace = i18next.setDefaultNamespace.bind(i18next);\nexport var t = i18next.t.bind(i18next);\nexport var use = i18next.use.bind(i18next);","import i18next from 'i18next'\r\n\r\n/**\r\n * 基于 i18next 的国际化简单封装\r\n * @author 赵金添 <729234283@qq.com>\r\n * @example\r\n * // 新建实例、初始化、添加全局语言资源\r\n * const i18n = new I18N('zh-CN').init().addResources(null, require.context('./locales/', true, /\\.json$/))\r\n * // 添加业务模块语言资源\r\n * i18n.addResources('articles', require.context('./locales/', true, /\\.json$/))\r\n * // 获取翻译函数\r\n * const t = i18n.getT('articles')\r\n * // 读取翻译\r\n * t('articleList')\r\n */\r\nexport default class I18N {\r\n  /**\r\n   * 构造方法\r\n   * @param {string} lng 默认语言\r\n   */\r\n  constructor (lng) {\r\n    this.lng = lng || this.getBrowserLanguage()\r\n    this.ns = 'translation'\r\n  }\r\n\r\n  /**\r\n   * 初始化\r\n   * @return {I18N}\r\n   */\r\n  init () {\r\n    i18next.init({\r\n      debug: true,\r\n      lng: this.lng,\r\n      fallbackNS: 'translation',\r\n      load: 'all'\r\n    })\r\n\r\n    return this\r\n  }\r\n\r\n  /**\r\n   * 添加语言资源\r\n   * @param {string} ns 业务模块\r\n   * @param {Function} req 语言资源\r\n   * @return {I18N}\r\n   */\r\n  addResources (ns, req) {\r\n    ns = ns || this.ns\r\n\r\n    req.keys().forEach((path) => {\r\n      const resources = req(path)\r\n      const paths = path.split('/')\r\n      const lng = paths[1]\r\n\r\n      i18next.addResourceBundle(lng, ns, resources, true, true)\r\n    })\r\n\r\n    return this\r\n  }\r\n\r\n  /**\r\n   * 获取浏览器语言环境\r\n   * @return {string}\r\n   */\r\n  getBrowserLanguage () {\r\n    return navigator.language || navigator.browserLanguage\r\n  }\r\n\r\n  /**\r\n   * 切换到某种语言\r\n   * @param {string} lng 语言\r\n   * @return {I18N}\r\n   */\r\n  switchTo (lng) {\r\n    i18next.changeLanguage(lng)\r\n    this.lng = lng\r\n\r\n    return this\r\n  }\r\n\r\n  /**\r\n   * 获取翻译\r\n   * @param {string} ns 业务模块\r\n   */\r\n  getT (ns) {\r\n    return i18next.getFixedT(this.lng, ns || this.ns)\r\n  }\r\n}\r\n"],"names":["_classCallCheck","instance","Constructor","TypeError","_toConsumableArray","arr","Array","isArray","i","arr2","length","from","makeString","object","copy","a","s","t","forEach","m","getLastOfPath","path","Empty","cleanKey","key","indexOf","replace","canNotTraverseDeeper","stack","concat","split","shift","obj","k","setPath","newValue","_getLastOfPath","Object","pushPath","_getLastOfPath2","push","getPath","_getLastOfPath3","deepExtend","target","source","overwrite","prop","String","regexEscape","str","escape","data","_entityMap","_defaults","defaults","keys","getOwnPropertyNames","value","getOwnPropertyDescriptor","configurable","undefined","defineProperty","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","prototype","create","constructor","enumerable","writable","setPrototypeOf","capitalize","string","charAt","toUpperCase","slice","createRules","rules","sets","set","lngs","l","numbers","nr","plurals","_rulesPluralsTypes","fc","remove","what","found","splice","transformOptions","options","ns","fallbackLng","fallbackNS","whitelist","noop","_extends","assign","arguments","hasOwnProperty","consoleLogger","type","log","args","this","output","warn","error","_console","console","apply","Logger","concreteLogger","init","prefix","logger","debug","setDebug","bool","_len","_key","forward","_len2","_key2","_len3","_key3","deprecate","_len4","_key4","lvl","debugOnly","moduleName","EventEmitter","observers","on","events","listener","_this","event","off","_this2","index","emit","observer","_ref","&","<",">","\"","'","/","ResourceStore","_EventEmitter","defaultNS","addNamespaces","removeNamespaces","getResource","lng","keySeparator","utils.getPath","addResource","silent","utils.setPath","addResources","resources","addResourceBundle","deep","pack","utils.deepExtend","removeResourceBundle","hasResourceBundle","getResourceBundle","compatibilityAPI","toJSON","processors","addPostProcessor","module","name","handle","translator","processor","process","_typeof","Symbol","iterator","Translator","services","utils.copy","baseLogger","changeLanguage","language","exists","interpolation","resolved","resolve","res","extractFromKey","nsSeparator","namespaces","parts","join","translate","overloadTranslationOptionHandler","_extractFromKey","namespace","appendNamespaceToCIMode","toLowerCase","usedKey","resType","toString","joinArrays","returnObjects","returnedObjectHandler","extendTranslation","usedDefault","_usedKey","isValidLookup","defaultValue","fallbackLngs","languageUtils","getFallbackCodes","saveMissingTo","toResolveHierarchy","saveMissing","missingKeyHandler","backendConnector","appendNamespaceToMissingKey","parseMissingKeyHandler","interpolator","defaultVariables","interpolate","nest","reset","postProcess","postProcessorNames","applyPostProcessor","postProcessor","_this3","extracted","needsPluralHandling","count","needsContextHandling","context","codes","code","finalKey","finalKeys","pluralSuffix","pluralResolver","getSuffix","contextSeparator","possibleKey","pop","returnNull","returnEmptyString","resourceStore","LanguageUtil","getScriptPartFromCode","p","formatLanguageCode","getLanguagePartFromCode","specialCases","lowerCaseLng","map","part","cleanCode","isWhitelisted","load","nonExplicitWhitelist","fallbacks","default","fallbackCode","fallbackCodes","addCode","c","1","n","Number","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","PluralResolver","addRule","getRule","needsPlural","rule","idx","noAbs","Math","abs","suffix","simplifyPluralSuffix","returnSuffix","prepend","compatibilityJSON","Interpolator","format","utils.escape","escapeValue","iOpts","utils.regexEscape","prefixEscaped","suffixEscaped","formatSeparator","unescapePrefix","unescapeSuffix","nestingPrefix","nestingPrefixEscaped","nestingSuffix","nestingSuffixEscaped","maxReplaces","resetRegExp","regexpStr","regexp","RegExp","regexpUnescapeStr","regexpUnescape","nestingRegexpStr","nestingRegexp","regexSafe","val","match","replaces","handleFormat","trim","f","exec","lastIndex","utils.makeString","clonedOptions","optionsString","JSON","parse","e","_slicedToArray","sliceIterator","_arr","_n","_d","_e","_s","_i","next","done","err","Connector","backend","store","state","queue","queueLoad","languages","callback","toLoad","pending","toLoadLanguages","toLoadNamespaces","hasAllNamespaces","loaded","errors","_name$split","_name$split2","q","utils.pushPath","filter","read","fcName","tried","_this4","wait","setTimeout","_this5","allowMultiLoading","readMulti","_name$split3","_name$split4","bundle","loadOne","reload","_this6","_this7","_name$split5","_name$split6","fallbackValue","cache","loadLngs","enabled","save","I18n","modules","external","isInitialized","isClone","_ret","initImmediate","createClassOnDemand","ClassOrObject","preload","pluralSeparator","_format","lu","LanguageUtils","cacheConnector","BackendConnector","CacheConnector","languageDetector","detection","_store","loadResources","append","reloadResources","use","setLng","cacheUserLanguage","async","detect","getFixedT","fixedT","opts","_translator","_translator2","setDefaultNamespace","loadNamespaces","loadLanguages","preloaded","newLngs","dir","createInstance","cloneInstance","mergedOptions","clone","bind","i18next","getBrowserLanguage","req","navigator","browserLanguage"],"mappings":"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"}